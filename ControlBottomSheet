import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import com.google.android.material.bottomsheet.BottomSheetDialogFragment

abstract class ControlBottomSheet : BottomSheetDialogFragment(){

    abstract fun init(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?) : View?

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        return init(inflater, container, savedInstanceState)
    }
    
    fun onReleaseClickAndBlockDraggableBehaviorBottomSheet(canReleaseBehavior: Boolean = true){
        val canDisableDraggable = !canReleaseBehavior
        onReleaseClickOutside(canReleaseBehavior)
        onDisableDraggableBehavior(canDisableDraggable)
    }

    fun onReleaseClickOutside(canReleaseClick: Boolean = true){
        isCancelable = canReleaseClick
    }

    fun onDisableDraggableBehavior(canDisableDraggable: Boolean = true) {
        dialog?.setCanceledOnTouchOutside(canDisableDraggable)
    }

}
